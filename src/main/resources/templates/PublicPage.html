<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KinetoHome Iași - Răzvan Grigoriu</title>
    <meta name="description" content="Kinetoterapie și masaj terapeutic la domiciliu în Iași. Recuperare post-operatorie, post-traumatică și corectare posturală. Ședințe fără limită de timp.">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light fixed-top">
    <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="#">
            <span class="text-primary fw-bold me-1">Kineto</span>Home<span class="text-muted ms-1 small">Iași</span>
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav ms-auto">
                <li class="nav-item"><a class="nav-link" href="#home">Acasă</a></li>
                <li class="nav-item"><a class="nav-link" href="#beneficii">De ce eu?</a></li>
                <li class="nav-item"><a class="nav-link" href="#servicii">Servicii</a></li>
                <li class="nav-item"><a class="nav-link" href="#despre">Despre Răzvan</a></li>
                <li class="nav-item ms-lg-3">
                    <a class="btn btn-primary btn-sm rounded-pill px-4" href="#programare">Programează-te</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<section id="home" class="hero d-flex align-items-center">
    <div class="container">
        <div class="row align-items-center gy-5">
            <div class="col-lg-6 hero-content">
                <div class="badge bg-white text-primary mb-3 px-3 py-2 shadow-sm rounded-pill">
                    <i class="fas fa-map-marker-alt me-2"></i>Disponibil în tot orașul Iași
                </div>
                <h1 class="display-4 fw-bold mb-4">Recuperare Medicală la Tine Acasă. <span class="text-primary">Fără Grabă.</span></h1>
                <p class="lead mb-5 opacity-75">
                    Scapă de dureri și redobândește-ți mobilitatea cu ajutorul unui kinetoterapeut licențiat, fără a părăsi confortul locuinței tale. Transformăm sufrageria ta într-o clinică de recuperare.
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="#programare" class="btn btn-light btn-lg px-4 py-3 shadow-sm text-primary fw-bold">
                        <i class="fas fa-calendar-check me-2"></i>Vreau o Programare
                    </a>
                    <a href="#beneficii" class="btn btn-outline-light btn-lg px-4 py-3">
                        <i class="fas fa-arrow-down me-2"></i>Cum lucrez
                    </a>
                </div>
                <div class="mt-4 text-white-50 small">
                    <i class="fas fa-check-circle me-1 text-success"></i> Echipament profesional inclus
                    <span class="mx-2">•</span>
                    <i class="fas fa-check-circle me-1 text-success"></i> Abordare 1-la-1
                </div>
            </div>
            <div class="col-lg-6 text-center">
                <div class="hero-image position-relative">
                    <div class="bg-white p-4 rounded-4 shadow-lg d-inline-block animate-float">
                        <i class="fas fa-user-md fa-6x text-primary mb-3"></i>
                        <div class="h5 fw-bold text-dark">Răzvan Grigoriu</div>
                        <p class="text-muted small mb-0">Kinetoterapeut Licențiat</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="beneficii" class="py-5 bg-white">
    <div class="container py-4">
        <div class="row justify-content-center text-center mb-5">
            <div class="col-lg-8">
                <h2 class="fw-bold">De ce să alegi recuperarea la domiciliu?</h2>
                <p class="text-muted lead">Pentru mine, progresul tău este mai important decât ceasul.</p>
            </div>
        </div>

        <div class="row g-4 align-items-stretch">
            <div class="col-md-4">
                <div class="h-100 p-4 border rounded-4 bg-light position-relative overflow-hidden group-hover-effect">
                    <div class="mb-3 text-primary">
                        <i class="fas fa-hourglass-half fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Fără "Ochii pe Ceas"</h4>
                    <p class="text-muted">
                        Nu lucrez cu ședințe standardizate la minut. O vizită poate dura între <strong>30 de minute și 2 ore</strong>. Stau atât timp cât este necesar pentru a mă asigura că exercițiile sunt executate corect și plec doar când te simți mai bine.
                    </p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="h-100 p-4 border rounded-4 bg-white shadow-sm position-relative">
                    <div class="mb-3 text-success">
                        <i class="fas fa-home fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Clinica Vine la Tine</h4>
                    <p class="text-muted">
                        Am văzut prea mulți oameni renunțând la terapie din cauza efortului de deplasare. Eu aduc tot ce e nevoie – masă de tratament, benzi, echipamente – direct la tine. Tu te concentrezi 100% pe vindecare.
                    </p>
                </div>
            </div>

            <div class="col-md-4">
                <div class="h-100 p-4 border rounded-4 bg-light">
                    <div class="mb-3 text-primary">
                        <i class="fas fa-hand-holding-medical fa-2x"></i>
                    </div>
                    <h4 class="fw-bold mb-3">Personalizat & Sincer</h4>
                    <p class="text-muted">
                        Îți explic pe înțelesul tău ce facem și de ce. Fără termeni complicați. Fiind PFI, lucrezi mereu cu același om (cu mine), care îți cunoaște istoricul și evoluția de la o zi la alta.
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="servicii" class="services section-bg">
    <div class="container">
        <div class="row text-center mb-5">
            <div class="col-lg-8 mx-auto">
                <h2 class="display-5 fw-bold mb-3">Servicii Adaptate Nevoilor Tale</h2>
                <p class="lead text-muted">Indiferent dacă ești sportiv, lucrezi la birou sau ai trecut printr-o operație, am soluția potrivită.</p>
            </div>
        </div>

        <div class="row g-4">
            <div class="col-lg-4 col-md-6">
                <div class="service-card h-100 bg-white p-4 rounded-4 shadow-sm border-0 transition-hover">
                    <div class="icon-box mb-4 p-3 rounded-circle bg-primary bg-opacity-10 d-inline-block text-primary">
                        <i class="fas fa-crutch fa-2x"></i>
                    </div>
                    <h3 class="h4 fw-bold">Recuperare Post-Operatorie</h3>
                    <p class="text-muted">
                        Ai trecut printr-o intervenție (proteză șold/genunchi, ligamente, hernie)? Primele săptămâni sunt critice. Îți ofer un protocol sigur și monitorizat pentru a preveni complicațiile și a grăbi vindecarea.
                    </p>
                    <ul class="list-unstyled text-muted small mt-3">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Redobândirea mobilității</li>
                        <li><i class="fas fa-check text-success me-2"></i>Siguranță maximă acasă</li>
                    </ul>
                </div>
            </div>

            <div class="col-lg-4 col-md-6">
                <div class="service-card h-100 bg-white p-4 rounded-4 shadow-sm border-0 transition-hover">
                    <div class="icon-box mb-4 p-3 rounded-circle bg-warning bg-opacity-10 d-inline-block text-warning">
                        <i class="fas fa-bolt fa-2x"></i>
                    </div>
                    <h3 class="h4 fw-bold">Reabilitare Post-Traumatică</h3>
                    <p class="text-muted">
                        Entorse, fracturi sau accidente. Corpul are nevoie de reeducare. Te ajut să îți recapeți forța musculară și stabilitatea articulară prin exerciții adaptate progresiv stării tale.
                    </p>
                    <ul class="list-unstyled text-muted small mt-3">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Recuperare forță musculară</li>
                        <li><i class="fas fa-check text-success me-2"></i>Reducerea durerii</li>
                    </ul>
                </div>
            </div>

            <div class="col-lg-4 col-md-6">
                <div class="service-card h-100 bg-white p-4 rounded-4 shadow-sm border-0 transition-hover">
                    <div class="icon-box mb-4 p-3 rounded-circle bg-info bg-opacity-10 d-inline-block text-info">
                        <i class="fas fa-laptop-medical fa-2x"></i>
                    </div>
                    <h3 class="h4 fw-bold">Terapie "Office" & Postură</h3>
                    <p class="text-muted">
                        Dureri de spate, tensiune cervicală, amorțeală? Nu lăsa postura de la birou să devină o boală cronică. Combatem efectele sedentarismului prin programe de kinetoprofilaxie.
                    </p>
                    <ul class="list-unstyled text-muted small mt-3">
                        <li class="mb-2"><i class="fas fa-check text-success me-2"></i>Corectare posturală</li>
                        <li><i class="fas fa-check text-success me-2"></i>Eliminarea tensiunii cervicale</li>
                    </ul>
                </div>
            </div>
        </div>

        <div id="servicesContainer" class="row mt-4"></div>
    </div>
</section>

<section id="despre" class="py-5 bg-white">
    <div class="container py-4">
        <div class="row align-items-center">
            <div class="col-lg-5 mb-4 mb-lg-0">
                <div class="position-relative">
                    <div class="bg-primary rounded-4 p-5 text-center text-white">
                        <i class="fas fa-user-graduate fa-4x mb-3"></i>
                        <h3 class="fw-bold">Răzvan Grigoriu</h3>
                        <p class="mb-0 opacity-75">Kinetoterapeut & Masterand</p>
                        <hr class="my-4 opacity-25">
                        <div class="text-start">
                            <div class="d-flex align-items-center mb-2">
                                <i class="fas fa-graduation-cap me-3 opacity-50"></i>
                                <span>Absolvent USV Suceava</span>
                            </div>
                            <div class="d-flex align-items-center">
                                <i class="fas fa-university me-3 opacity-50"></i>
                                <span>Masterand Traumatologie Sportivă Iași</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7 ps-lg-5">
                <span class="text-primary fw-bold text-uppercase small ls-1">Cine sunt eu?</span>
                <h2 class="display-6 fw-bold mb-4">Performanță Sportivă aplicată în Viața de Zi cu Zi</h2>
                <p class="lead text-muted mb-4">
                    Salut! Am 23 de ani și am ales să mă specializez în <strong>Traumatologie Sportivă</strong> nu doar pentru a lucra cu sportivi, ci pentru că am înțeles un secret: tehnicile de performanță funcționează cel mai rapid și pentru oamenii obișnuiți.
                </p>
                <p class="text-muted mb-4">
                    Experiența mea clinică include sute de cazuri: de la <strong>programatori IT</strong> cu dureri cervicale severe, la <strong>șoferi profesioniști</strong> imobilizați de dureri de spate, până la recuperări complexe post-AVC.
                </p>
                <p class="mb-4">
                    <strong>Viziunea mea:</strong> Kinetoterapia nu înseamnă doar "seturi de exerciții". Înseamnă să înțeleg ce te oprește pe tine să te bucuri de viață. Vin la tine cu energia tinereții, dar cu rigoarea și cunoștințele unui specialist dedicat.
                </p>
                <div class="p-3 bg-light rounded border-start border-4 border-primary">
                    <p class="mb-0 fst-italic text-dark">
                        "Dacă ai nevoie de cineva care să te ajute să te miști din nou fără durere, dă-mi un semn. Ne auzim la telefon și vedem cum te pot ajuta!"
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>

<section id="programare" class="appointment position-relative overflow-hidden">
    <div class="container position-relative z-2">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="appointment-card bg-white shadow-lg rounded-4 overflow-hidden">
                    <div class="p-4 p-md-5">
                        <div class="text-center mb-5">
                            <h2 class="fw-bold mb-3">Începe Recuperarea Azi</h2>
                            <p class="text-muted">Completează formularul și te sun eu pentru a stabili detaliile primei vizite.</p>
                        </div>

                        <form id="appointmentForm">
                            <div class="row g-3">
                                <div class="col-md-6">
                                    <label for="name" class="form-label">Numele Tău</label>
                                    <input type="text" class="form-control form-control-lg" id="name" placeholder="ex: Popescu Ion" required>
                                </div>
                                <div class="col-md-6">
                                    <label for="phone" class="form-label">Telefon</label>
                                    <input type="tel" class="form-control form-control-lg" id="phone" placeholder="07xx xxx xxx" required>
                                </div>
                                <div class="col-md-12">
                                    <label for="service" class="form-label">Ce te supără?</label>
                                    <select class="form-select form-select-lg" id="service" required>
                                        <option value="">Alege tipul de problemă...</option>
                                        <option value="Durere Spate/Birou">Dureri de spate / Sedentarism</option>
                                        <option value="Post-Operator">Recuperare după operație</option>
                                        <option value="Post-Traumatic">Recuperare după accident/entorsă</option>
                                        <option value="Altul">Altceva / Nu sunt sigur</option>
                                    </select>
                                </div>
                                <div class="col-md-6">
                                    <label for="date" class="form-label">Când ai prefera?</label>
                                    <input type="date" class="form-control form-control-lg" id="date">
                                </div>
                                <div class="col-md-12">
                                    <label for="message" class="form-label">Detalii (Opțional)</label>
                                    <textarea class="form-control form-control-lg" id="message" rows="3" placeholder="Descrie scurt durerea sau diagnosticul..."></textarea>
                                </div>

                                <div class="col-12 mt-4">
                                    <div class="g-recaptcha" data-sitekey="6LeIxAcTAAAAAJcZVRqyHh71UMIEGNQ_MXjiZKhI"></div>
                                </div>

                                <div class="col-12 mt-4">
                                    <button type="submit" class="btn btn-primary btn-lg w-100 py-3 shadow-sm hover-lift">
                                        <i class="fas fa-paper-plane me-2"></i>Trimite Cererea de Programare
                                    </button>
                                    <p class="text-center text-muted small mt-3 mb-0">
                                        <i class="fas fa-lock me-1"></i> Datele tale sunt confidențiale. Te voi contacta personal.
                                    </p>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="py-5 bg-light border-top">
    <div class="container">
        <div class="row g-4 justify-content-center text-center">
            <div class="col-md-4 d-flex flex-column align-items-center">
                <div class="bg-white p-3 rounded-circle shadow-sm mb-3 text-primary">
                    <i class="fas fa-phone-alt fa-lg"></i>
                </div>
                <h5 class="fw-bold">Sună-mă Direct</h5>
                <p class="text-muted mb-2">Pentru urgențe sau întrebări rapide</p>
                <a href="tel:+40712345678" class="text-primary fw-bold text-decoration-none fs-5">+40 712 345 678</a>
            </div>
            <div class="col-md-4 d-flex flex-column align-items-center">
                <div class="bg-white p-3 rounded-circle shadow-sm mb-3 text-primary">
                    <i class="fab fa-whatsapp fa-lg"></i>
                </div>
                <h5 class="fw-bold">Scrie-mi pe WhatsApp</h5>
                <p class="text-muted mb-2">Răspund între ședințe</p>
                <a href="https://wa.me/40712345678" class="btn btn-outline-success btn-sm rounded-pill px-4">Trimite Mesaj</a>
            </div>
        </div>
    </div>
</section>

<footer class="footer bg-dark text-white pt-5 pb-3">
    <div class="container">
        <div class="row gy-4">
            <div class="col-lg-4">
                <h5 class="mb-3 fw-bold"><i class="fas fa-spa me-2 text-primary"></i>KinetoHome Iași</h5>
                <p class="text-secondary small">
                    Servicii profesionale de kinetoterapie și masaj terapeutic la domiciliu. Misiunea mea este să aduc recuperarea de calitate direct în confortul casei tale.
                </p>
            </div>
            <div class="col-lg-2 offset-lg-1">
                <h5 class="mb-3 text-white-50">Navigare</h5>
                <ul class="list-unstyled">
                    <li><a href="#home" class="text-secondary text-decoration-none hover-white">Acasă</a></li>
                    <li><a href="#servicii" class="text-secondary text-decoration-none hover-white">Servicii</a></li>
                    <li><a href="#despre" class="text-secondary text-decoration-none hover-white">Despre Mine</a></li>
                </ul>
            </div>
            <div class="col-lg-4 offset-lg-1">
                <h5 class="mb-3 text-white-50">Legal</h5>
                <p class="text-secondary small">Persoană Fizică Independentă (PFI) Grigoriu Răzvan.<br>Toate drepturile rezervate &copy; 2026.</p>
            </div>
        </div>
    </div>
</footer>

<script src="https://www.google.com/recaptcha/api.js" async defer></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        loadServices();
        setupForm();
        setupSmoothScroll();
    });

    function loadServices() {
        console.log('Loading services from /api/public/services');
        fetch('/api/public/services')
            .then(response => {
                if (!response.ok) throw new Error('Network response was not ok');
                return response.json();
            })
            .then(services => {
                populateServiceDropdown(services);
                // Notă: Am lăsat displayServices opțional, deoarece am hardcodat serviciile principale pentru SEO și Design
                // Dacă vrei să le afișezi și pe cele din baza de date sub cele hardcodate, poți decomenta linia de mai jos:
                // displayServices(services);
            })
            .catch(error => {
                console.error('Error loading services:', error);
            });
    }

    // Funcția care adaugă servicii din DB în container (dacă e nevoie de extra servicii)
    function displayServices(services) {
        const container = document.getElementById('servicesContainer');
        if (!services || services.length === 0) return;

        const dynamicContent = services.map(service => `
            <div class="col-md-6 col-lg-4">
                <div class="service-card h-100 bg-white p-4 rounded-4 shadow-sm border-0">
                    <div class="service-header mb-3">
                        <h4 class="h5 fw-bold mb-0">${service.numeServiciu}</h4>
                        <span class="badge bg-primary bg-opacity-10 text-primary mt-2">
                            ${service.pretServiciu} RON ${service.durataServiciu ? '• ' + service.durataServiciu + ' min' : ''}
                        </span>
                    </div>
                    <p class="text-muted small">${service.descriereServiciu || ''}</p>
                    <button class="btn btn-outline-primary btn-sm w-100 mt-3" onclick="scrollToAppointment('${service.numeServiciu}')">
                        Programează
                    </button>
                </div>
            </div>
        `).join('');

        container.innerHTML = dynamicContent;
    }

    function populateServiceDropdown(services) {
        const dropdown = document.getElementById('service');
        // Păstrăm opțiunile hardcodate și adăugăm din DB doar dacă nu există duplicat
        if (services && services.length > 0) {
            // Putem adăuga un separator
            const separator = document.createElement('option');
            separator.disabled = true;
            separator.text = "──────────";
            dropdown.appendChild(separator);

            services.forEach(service => {
                const option = document.createElement('option');
                option.value = service.numeServiciu;
                option.textContent = `${service.numeServiciu} - ${service.pretServiciu} RON`;
                dropdown.appendChild(option);
            });
        }
    }

    function setupForm() {
        const form = document.getElementById('appointmentForm');
        form.addEventListener('submit', function(e) {
            e.preventDefault();

            // Verificare Captcha (Opțional dacă e implementat)
            // if (grecaptcha && grecaptcha.getResponse() === "") {
            //     document.getElementById('recaptcha-error').style.display = 'block';
            //     return;
            // }

            const formData = {
                clientName: document.getElementById('name').value,
                clientPhone: document.getElementById('phone').value,
                serviceName: document.getElementById('service').value,
                date: document.getElementById('date').value,
                message: document.getElementById('message').value,
            };

            saveAppointmentToBackend(formData);
        });
    }

    function saveAppointmentToBackend(appointmentData) {
        const submitBtn = document.querySelector('#appointmentForm button[type="submit"]');
        const originalText = submitBtn.innerHTML;
        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin me-2"></i>Se trimite...';
        submitBtn.disabled = true;

        const appointmentDTO = {
            patientName: appointmentData.clientName,
            phoneNumber: appointmentData.clientPhone,
            date: appointmentData.date || new Date().toISOString().split('T')[0],
            serviceName: appointmentData.serviceName,
            time: "09:00", // Default time, discussed via phone
            status: "NOU",
            additionalInfo: `Mesaj: ${appointmentData.message}`
        };

        fetch('/api/appointments', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(appointmentDTO)
        })
        .then(response => {
            if (!response.ok) throw new Error('Server error');
            return response.json();
        })
        .then(data => {
            showAppointmentSuccess(appointmentData);
            document.getElementById('appointmentForm').reset();
            // grecaptcha.reset(); // Reset captcha if used
        })
        .catch(error => {
            console.error('Error:', error);
            alert('Eroare la trimitere. Te rugăm să ne suni direct.');
        })
        .finally(() => {
            submitBtn.innerHTML = originalText;
            submitBtn.disabled = false;
        });
    }

    function showAppointmentSuccess(data) {
        const alertBox = document.createElement('div');
        alertBox.className = 'alert alert-success fixed-top m-3 shadow-lg';
        alertBox.style.zIndex = '9999';
        alertBox.innerHTML = `
            <div class="d-flex align-items-center">
                <i class="fas fa-check-circle fa-2x me-3"></i>
                <div>
                    <strong>Super! Cererea a fost trimisă.</strong><br>
                    Te voi suna la ${data.clientPhone} în curând.
                </div>
                <button type="button" class="btn-close ms-auto" data-bs-dismiss="alert"></button>
            </div>
        `;
        document.body.appendChild(alertBox);
        setTimeout(() => alertBox.remove(), 6000);
    }

    function scrollToAppointment(serviceName) {
        document.getElementById('programare').scrollIntoView({ behavior: 'smooth' });
        if (serviceName) {
            const dropdown = document.getElementById('service');
            dropdown.value = serviceName; // Simplificat assignment
        }
    }

    function setupSmoothScroll() {
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) target.scrollIntoView({ behavior: 'smooth' });
            });
        });
    }

    // Navbar Scroll Effect
    window.addEventListener('scroll', function() {
        const navbar = document.querySelector('.navbar');
        navbar.classList.toggle('bg-white', window.scrollY > 50);
        navbar.classList.toggle('shadow-sm', window.scrollY > 50);
    });
</script>
</body>
</html>